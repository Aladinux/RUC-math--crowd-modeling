\section{Social force models}
\label{sec:social-forces}
One would think that the motion and dynamics of a human crowd would be
governed by complex human decision making. However, the idea of social force
models is modelling the behaviour using only a set of simple forces to
describe the behaviour of the human pedestrians that comprise a crowd.

This works by calculating a set of social forces affecting each pedestrian in 
the system.  These forces are not real physical forces in the sense that they 
follow Newton's laws of motion, but rather a measure of the  pedestrians' 
motivation for acting in specific ways. However the name \emph{social forces}
is not accidental: both notation and to some extent the interpretation is
borrowed from physics.

Since social forces have so much in common with physical forces, it makes
sense to go into a bit more detail about what separates the two. Social forces 
are a measure of a pedestrian's behaviour and tendency to move in a certain 
direction. As such they do not deal with the physical effects of the 
environment the pedestrian is in, but rather the pedestrians perception of 
this environment. For example, pedestrians attempt to avoid colliding with each 
other, which is modelled as a repulsive force between them. This means that 
the forces are not bound by the laws of physics; they can affect pedestrians 
over a distance, whereas a physical force between to pedestrians only occur 
when they are touching. Also, the forces do not obey Newton's third law of 
motion, since they do not represent an actual interaction between pedestrians, 
but only a desire to move in a certain direction. Finally, it doesn't make 
sense to talk about the results of the forces in terms of physical forces. 
This mean that it doesn't make sense to talk about, e.g., pressure by 
measuring the magnitude of the forces a pedestrian is subjected to.

Borrowing the concept of forces from physics allows social force models to 
calculate pedestrian movement using already established methods. This means 
that forces can be summed to generate a resulting force for a pedestrian, and 
that this resulting force can be used to describe an acceleration, and thus 
affect the movement of the pedestrian.

Throughout the report, whenever we refer to forces we mean social forces, 
unless stated otherwise. In the following we give an overview of which 
variants of social force models exist and how they differ, and of the results 
that have been obtained from simulations using these models.

\subsection{Variants of social force models}
Social force models can be found in several variants in the literature. The 
basic idea is the same in all of these variants, but some details differ, such 
as the exact forces included in the models. In this section we outline the 
different variants of social force models. As mentioned in the introduction, 
we base our analysis and simulations on the variant presented in 
\cite{self-org}. Therefore, the review presented here will use this variant as 
a basis for comparisons.

The model we are using considers all pedestrians to be circular with a given 
radius. This is obviously a simplification, and indeed one of the advances in 
later versions of social force models, is introducing elliptically shaped 
pedestrians, which is seen to yield results that better match experiments made 
in real life \cite{ABconstant}.

Another modification that is seen in other articles is the adding of 
additional forces, such as velocity-dependent repulsive forces, or forces that 
are perpendicular to the direction of the repulsion 
\cite{helbing00,ABconstant}. The latter may be used 
both as a means of simulating a tendency of pedestrians to avoid each other, 
and as a frictional force when pedestrians touch.

Finally, there are models that add an additional layer on top of the social 
force models, to simulate higher-level decisions such as path finding and 
communication between pedestrians \cite{HiDAC}.


The different variations do not really make a difference when looking at the 
results, according to \cite{self-org}:

\begin{quote}
    One may, of course, take into account other details such as a velocity 
    dependence of the forces and non circular shaped pedestrian bodies, but 
    this does not have qualitative effects on the dynamical phenomena 
    resulting in the simulations. In fact, most observed self-organization 
    phenomena are quite insensitive to the specification of the interaction 
    forces, while it may, of course, influence the quantitative results.
\end{quote}

However, in our simulations we have been unable to replicate several of the 
results presented elsewhere, which contradicts the above quote. This is 
discussed further in sections~\ref{sec:results} and \ref{sec:discussion}.


\subsection{Results obtained from the models}
In this section we will go through different phenomenons that occurs in different scenarios and then
explain the scenarios that we have chosen to simulate. The phenomenons will be interesting since they
are easy to compare with the simulation results we get, since they require no independent calculations
but can be seen directly when running the simulations. So we will have an easy measure to see if we
are able to get our interpretation of the model to work the same ways as it is presented in the papers.
The scenarios that we have chosen to work with is based on from which scenarios, should we be able
to replicate the phenomenons we want to compare our results and the ones from \cite{self-org}.
It should be noted that all the phenomenons are mentioned in our main article \cite{self-org}.
So it should be possible to reproduce the results from the article using the model they present in the same article.

\subsubsection{Lane Formation}
Lane formation can be seen in counterflow situation, pedestrians form lanes of walking
directions, which is thought as a result of the non-linear body interaction
force. When groups of pedestrians move against each other they will line up behind other
pedestrians going in the same direction as themselves and form lines throughout the corridor.
This is seen in real life situations and is one of the situations that the model are able to reproduce \cite{self-org}.
The lane formations we will try to replicate in the corridor cases.

\subsubsection{Freezing-by-Heating Effect}
This phenomenon is characterized by a blockage caused by high velocity,
that follows an increasing density. The precondition for this effect is the driving force from desired
velocity and actual velocity, and that the tangential term from the interaction
force is not needed. The freezing by heating effect is directly connected to simulations in
physics\cite{frebyheat}. It is a  phenomenon that is the opposite of what you would see in a
normal microscopic simulation of particles. In physics you would normally expect that when
temperature rises in a liquid, i.e. when the particles move faster, then the particles will
start reach a transition state at which it becomes a gas. So your density would fall an
particles would be able to move more freely around.
But in the model presented by \cite{self-org} and more thorough explained in \cite{frebyheat}
it does not happen like that for the social-force model. What you actually see is that when the
particles/pedestrians start to move at a higher speed, they will start to blockage each other.
That is they will transit to at solid state and the density will rise and they will a some point
completely stop moving. This is found to happen in simulations with bidirectional flow, like
two groups going through a corridor in opposite directions where the pedestrians has a high desired velocity.
This we should be able to measure when simulating the corridor case, when we raise the max desired
velocity the pedestrians should start clogging up, and we should be able to measure a high density as
a result of the increasing velocity.


\subsubsection{Oscillatory Flows at Bottlenecks}
This effect arise in situations of corridors with bidirectional flows, at bottlenecks in the corridor.
The bottleneck makes it impossible for the pedestrians
to pass each other the same way as with the lane formations, because at bottlenecks they will
start to block for pedestrians going in the other direction.
So what happens is that people start to slow down and oscillatory
flow arises. The oscillatory flow is a flow that for some time will go in one direction through
the bottleneck, and then at some point it will change and go the other way. The typical way of
the oscillatory flow is that a small group of pedestrians will go through at a time, and then
a small group walking through in the other direction.
Not so often you see single individuals passing through one at a time.
This is seen in real life experiments and therefore makes the simulations more realistic
if you can reproduce the oscillatory flow.
It should be reproducible by the model \cite{self-org}.

\subsubsection{Faster-Is-Slower Effect}
It has been observed in evacuations situations that some process takes more
time if it is performed at high speed. This is called the faster-is-slower effect. It comes
in situations like when people are trying to leave a place through a door. When people are
trying to move faster than normal they will actually start to move slower through the door.
This is according to \cite{self-org} also one of the things that the models captures. When simulations
of pedestrians leaving a room one should see that the time it takes to empty the room will take longer time
when the max desired velocity is big. In some sense the faster-is-slower effect is the same as the
freezing-by-heating effect just in a different scenario. The freezing-by-heating effect is not contained
in the bidirectional flow and people would not stop completely by the effect,
but both occurs when the desired speed is growing.
When raising the max desired velocity we should be able to see the effect, as the time it takes to
empty the room will increase as the max desired velocity is increasing.

\subsubsection{The scenarios}
The scenarios that we will work with is chosen so that we should be able to observe the four
different phenomenons that we just went through(Lane formation, freezing-by-heating, oscillatory
flows at bottlenecks and faster-is-slower).
After having gone through the phenomenons, three scenarios seems obvious to work with;
People leaving a squared room, a corridor with bidirectional flow
and a corridor with bydirectional flow and a bottleneck.
This should makes us able to see if we can recreate the results seen in the literature.

We have now explained the very basic idea of the model we use, and the variations there can be between
the social-force models. These differences is claimed to have little effect on the qualitative results.
Therefore we expect that the model we work with should have no problems replicating the different phenomenons
that we just gave a brief explanation of. After having done this, we will now continue and go into
details of the math involved in the model.

