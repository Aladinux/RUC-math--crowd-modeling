\section{Social force models}
\label{sec:social-forces}
One would think that the motion and dynamics of a human crowd would be
governed by complex human decision making. However, the idea of social force
models is modelling the behaviour using only a set of simple forces to
describe the behaviour of the human pedestrians that comprise a crowd 
\cite{social-force}.

This works by calculating a set of social forces affecting each pedestrian in 
the system.  These forces are not real physical forces but rather a measure of 
the  pedestrians' motivation for acting in specific ways. However the name 
\emph{social forces} is not accidental: both notation and to some extent the 
interpretation is borrowed from physics.

Borrowing the concept of forces from physics  means that pedestrian movement 
is calculated from the social forces using established methods from physics, 
i.e. equations of motion. This means that forces can be summed to generate a 
resulting force for a pedestrian, and that this resulting force can be used to 
describe an acceleration, and thus affect the movement of the pedestrian.

However, social forces differ from physical forces in key areas. Social forces 
are a way to estimate a pedestrian's behaviour and tendency to move in a 
certain direction. As such they do not deal with the physical effects of the 
environment the pedestrian is in, but rather the pedestrian's perception of 
this environment. For example, pedestrians' attempt to avoid colliding with 
each other, which is modelled as a repulsive force between them. This means 
that the forces are not bound by the laws of physics; they can affect 
pedestrians over a distance, whereas a physical force between two pedestrians 
only occur when they are touching. Also, the forces do not obey Newton's third 
law of motion, since they do not represent an actual interaction between 
pedestrians, but only a desire to move in a certain direction. Finally, it 
does not make sense to talk about the results of the forces in terms of 
physical forces. This means that it does not make sense to talk about, e.g., 
pressure by measuring the magnitude of the forces a pedestrian is subjected 
to.

Throughout the report, whenever we refer to forces we mean social forces, 
unless stated otherwise. In the following we give an overview of which 
variants of social force models exist and how they differ, and of the results 
that have been obtained from simulations using these models.

\subsection{Variants of social force models}
Social force models can be found in several variants in the literature. The 
basic idea is the same in all of these variants, but some details differ, such 
as the exact forces included in the models; sometimes even in contradictory 
ways. In this section we outline the different variants of social force 
models. As mentioned in the introduction, we base our analysis and simulations 
on the variant presented in \cite{self-org}. Therefore, the review presented 
here will use this variant as a basis for comparisons.

The model we are using considers all pedestrians to be circular with a given 
radius. This is obviously a simplification, and indeed one of the advances in 
later versions of social force models, is introducing elliptically shaped 
pedestrians, which is seen to yield results that better match experiments made 
in real life \cite{ABconstant}.

Another modification that is seen in other articles is the adding of 
additional forces, such as velocity-dependent repulsive forces, or forces that 
are perpendicular to the direction of the repulsion 
\cite{helbing00,ABconstant}. The latter may be used 
both as a means of simulating a tendency of pedestrians to avoid each other, 
and as a frictional force when pedestrians touch.

Finally, there are models that add an additional layer on top of the social 
force models, to simulate higher-level decisions such as path finding and 
communication between pedestrians as well as incorporating pedestrians that 
get hurt in dense crowds and fall down and turn into obstacles \cite{HiDAC}.


The different variations do not really make a difference when looking at the 
results, according to \cite{self-org}:

\begin{quote}
    One may, of course, take into account other details such as a velocity 
    dependence of the forces and non circular shaped pedestrian bodies, but 
    this does not have qualitative effects on the dynamical phenomena 
    resulting in the simulations. In fact, most observed self-organization 
    phenomena are quite insensitive to the specification of the interaction 
    forces, while it may, of course, influence the quantitative results.
\end{quote}

However, in our simulations we have been unable to replicate several of the 
results presented elsewhere, which contradicts the above quote. This is 
discussed further in sections~\ref{sec:results} and \ref{sec:discussion}.


\subsection{Results obtained from the models}
\label{sec:article-results}
To have something to compare our own simulation results with, we are going to 
attempt to replicate some of the results obtained from other social force 
model simulations. In this section we present the different results and their 
sources. We also list the scenarios we are going to simulate to replicate the 
results.

There are four main results we are going to attempt to replicate: lane 
formation, the ``freezing-by-heating effect'', oscillatory flows at 
bottlenecks and the ``faster-is-slower effect''.

\begin{itemize}
    \item \textbf{The ``faster-is-slower effect''.}  This effect appears when 
        a crowd of pedestrians try to exit through a narrow passageway, such 
        as a door leading out from a room. It has been observed that when 
        pedestrians attempt to move faster (e.g. in panic situations) it will 
        actually result in a \emph{longer} time for all pedestrians to leave 
        the room, because pedestrians block each other on the way out 
        \cite{helbing00}.

    \item \textbf{Lane Formation} occurs when pedestrians are walking towards 
        each other from opposite directions. The effect is caused by 
        pedestrians walking in the same direction lining up behind each other 
        and walking behind each other in lanes. This effect is seen in 
        simulations as well as in observations of real-life crowd behaviour 
        and is obvious when viewing drawings of the simulation 
        \cite{self-org}.
        
    \item \textbf{The ``freezing-by-heating effect''.} This phenomenon also 
        occurs when pedestrians are walking towards each other from opposite 
        directions. The effect is seen as a clogging up of the passageway when 
        pedestrians try to move past each other. When exhibiting this effect, 
        the clogging is more pronounced when pedestrian velocities increase, 
        which gives rise to the name, that refers to the states of physical 
        matter. Normally higher energy (faster movement of particles) in 
        matter increases the entropy of the matter, (i.e.  heating a liquid 
        turns it into gas), but in this case (when viewing pedestrians as 
        particles and the crowd as matter) the opposite is seen: increasing 
        the energy (velocity) makes pedestrians stand still, corresponding to 
        freezing of matter \cite{frebyheat}.
        
    \item \textbf{Oscillatory Flows at Bottlenecks.}
        This effect arises when pedestrians are moving in opposite directions 
        and pass through a bottleneck, i.e. a narrowing of the passageway.  
        When it is not possible for groups of pedestrians to pass each other 
        at the bottleneck, crowds will line up on both sides of the 
        bottleneck, trying to push through.This results in an oscillatory flow 
        when small groups of pedestrians will pass through in one direction, 
        making room for a small group to pass through in the other, and so on.
        This can be seen as oscillations in the measured flow rate in each 
        direction and has been seen in both simulations and real life 
        observations \cite{self-org}.
\end{itemize}

\subsection{Simulation scenarios}
\label{sec:scenario-presentation}
To attempt to replicate the results presented in the preceding section, we 
will simulate two main scenarios: a square room and a corridor, with a few 
variations.

To try to replicate the faster-is-slower effect, we will simulate 
a square room filled with pedestrians, that all try to exit through the same 
exit. To replicate the other effects, we will simulate a corridor in several 
variations. In the simple case, we will simulate a plain corridor with 
pedestrians walking in both directions, and see if we get lane formation and 
freezing by heating. We will simulate a corridor with a narrowing in the 
middle to simulate the oscillatory flows at bottlenecks, and finally we will 
simulate a corridor with a widening in the middle to try to replicate the 
faster-is-slower effect in the corridor case as well. The results from our 
simulations are presented in section~\ref{sec:results} and discussed in 
section~\ref{sec:discussion}.

\subsection{Summary}
In this section we have presented the concept of social force models, and how 
social forces differ from physical forces. We have given an overview of the 
variations of social force models presented in the literature, and we have 
presented four results that we will attempt to replicate: the faster-is-slower 
effect, lane formation, freezing by heating and oscillatory flows at 
bottlenecks. Finally, we have presented the scenarios we will simulate to try 
to replicate the results.

In the next section, we will present the model we are simulating in detail.
